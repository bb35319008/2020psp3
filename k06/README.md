# 課題6 レポート
学生番号　氏名


## 課題
所持金1,000円でサイゼリヤに行ったとき、最大限カロリーを多く取得できるメニューの組合せを求めるプログラムを作成する。

1. 使用するデータ  
サイゼリヤのメニューデータは、saizeriya.csvに保存されている。saizeriya.csvには、csv形式で以下のデータが含まれる。
    - メニューのID
    - メニューの名前
    - カテゴリ
    - タイプ
    - 価格
    - カロリー
    - 塩分量

    サイゼリヤのメニューは、プログラム起動時に、下記の構造体配列に読み込まれる
```
typedef struct tagMenu{
    int id;         //  メニューのID
    char name[91];  //  メニューの名前
    char category[10];  //  カテゴリ
    char type[15];  //  タイプ
    int price;      //  価格
    int calorie;    //  カロリー
    float salt;     //  塩分量
} Menu;
```


所持金、メニュー数はプログラム内で下記のように定義されている。


```
#define NAP_SIZE    1000    //  所持金(1000円)
#define NUM_ITEMS   135     //  メニュー数   
```

2. 必須問題：実装する関数  
本課題では、以下の関数を実装する。  
(1) DYnaicProgLimited: 動的計画法を用いて、1,000円で最大取得可能なカロリーを求める。  
    [入力]
    - Menu arrayItem[]: メニューデータの配列  
    - int items: メニュー数  
    - int nap_size: 所有金額(1,000円)  

    [出力]  
    - なし。ただし、関数内で、printf文を用いて、最大取得可能カロリーを出力すること。  

    [その他]  
    関数内に定義してある変数は参考であり、使用しても使用しなくても良い。



3. 補助関数  
以下の関数はすでに実装されており、利用することができる。
    - LoadData: サイゼリヤのメニューをファイルから読み込み、Menu型の配列arrayItemに格納する。  
    - main: メイン関数。データのロード、最大摂取カロリーを計算する処理を呼び出す。  


4. チャレンジ問題  
(1) 最大カロリーを取得できるメニューを表示するようにプログラムを修正する。(10点)  
(2) プログラムが出力した最大カロリーが正しいか検証する方法を考え、実際に検証してみる。(15点)  



## ソースコードの説明
75: int型の変数 i, j, k, ns, s, pre_j, cur_j, tp を宣言し、tpに0を代入

最大摂取カロリーを求める 77~104
77~82: i=0とし、iがitems以下である限り以下を実行し、iに1を加算

78~81: j=0とし、jがnap_size以下である限り以下を実行し、jに1を加算

79: nap_value[i][j]に0を代入

80: history[i][j]に0を代入

84~102: i=1とし、iがitems以下である限り以下を実行し、iに1を加算

85~88: k=1とし、kがarrayItem[i-1].priceより小さい限り以下を実行し、kに1を加算

86: nap_value[i][k]にnap_value[i-1][k]を代入

87: history[i][k]にkを代入

90~101: j=kとし、jがnap_size以下である限り以下を実行し、jに1を加算

91: nsにnap_value[i-1][j]を代入

92: sにnap_value[i-1][j-arrayItem[i-1].price] + arrayItem[i-1].calorieを代入

94~96: nsがsより大きい時は以下を実行

95: nap_value[i][j]にnsを代入

96: history[i][j]にjを代入

97~100: nsがs以下の時は以下を実行

98: nap_value[i][j]にsを代入

99: history[i][j]にj - arrayItem[i-1].price

104: 最大摂取カロリーを出力


最大カロリーがとれるメニューを出力 106~117
108: cur_jにnap_sizeを代入

109~117: i=itemsとし、iが0より大きい限り以下を実行し、iから1を引く

110: pre_jにhistory[i][cur_j]を代入

112~114: pre_jがcur_jと等しくないときは以下を実行

113: メニューの名前を出力

116: cur_jにpre_jを代入


最大摂取カロリーが正しいかをカロリーと金額を用いて検証 119~141
119~126: i=1とし、iがitems以下である限り以下を実行し、iに1を加算

120~125: j=1とし、iがnap_size以下である限り以下を実行し、iに1を加算

121~124: nap_value[i][j]がnap_value[items][nap_size]より大きいときは以下を実行

122: 「error!　カロリーが最大ではありません!」と出力

123: ループを抜ける

128: cur_jにnap_sizeを代入

129~137: i=itemsとし、iが0より大きい限り以下を実行し、iから1を引く

130: pre_jにhistory[i][cur_j]を代入

132~134: pre_jがcur_jと等しくないときは以下を実行

136: cur_jにpre_jを代入

139~141: tpがnap_sizeより大きい時は以下を実行

140: 「error!　金額が所持金を超えています!」と出力

143: 返す

## 出力結果

```
最大摂取カロリー : 1796
===== menu =====
"ラージライス"
"パルマ風スパゲッティ（Wサイズ）"
```

## 修正履歴

